---
title: "API Overview"
description: "Authentication, response format, and endpoint summary for the Lattice REST API."
---

The Lattice REST API is available under the `/api` scope for programmatic access to fleet management, intents, and runs.

**Base URL:** `https://lattice-broken-forest-2932.fly.dev/api`

## Authentication

All `/api` endpoints require a bearer token:

```bash
curl -H "Authorization: Bearer <token>" \
  https://lattice-broken-forest-2932.fly.dev/api/fleet
```

Unauthenticated requests receive a `401` response.

The `GET /health` endpoint is unauthenticated and lives outside the `/api` scope.

## Response Format

### Success

```json
{
  "data": { ... },
  "timestamp": "2026-02-17T12:00:00Z"
}
```

### Error

```json
{
  "error": "Human-readable message",
  "code": "ERROR_CODE"
}
```

## Status Codes

| Code | Meaning |
|------|---------|
| `200` | Success |
| `201` | Created |
| `401` | Missing or invalid bearer token |
| `404` | Resource not found |
| `422` | Validation error |

## Error Codes

| Code | Meaning |
|------|---------|
| `SPRITE_NOT_FOUND` | Sprite ID does not exist |
| `INTENT_NOT_FOUND` | Intent ID does not exist |
| `INVALID_STATE` | Invalid state value |
| `INVALID_STATE_TRANSITION` | State transition not allowed |
| `MISSING_FIELD` | Required field not provided |
| `PROJECT_NOT_FOUND` | Project ID does not exist |

## Endpoint Summary

### Fleet

| Method | Path | Description |
|--------|------|-------------|
| `GET` | `/api/fleet` | Fleet summary |
| `POST` | `/api/fleet/audit` | Trigger fleet-wide reconciliation |

### Sprites

| Method | Path | Description |
|--------|------|-------------|
| `GET` | `/api/sprites` | List all sprites |
| `GET` | `/api/sprites/:id` | Sprite detail |
| `POST` | `/api/sprites` | Create a sprite |
| `POST` | `/api/sprites/:id/wake` | Wake a sprite |
| `POST` | `/api/sprites/:id/sleep` | Sleep a sprite |
| `PUT` | `/api/sprites/:id/tags` | Update sprite tags |
| `DELETE` | `/api/sprites/:id` | Delete a sprite |
| `POST` | `/api/sprites/:id/reconcile` | Trigger reconciliation |
| `POST` | `/api/sprites/:id/exec` | Start exec session |
| `GET` | `/api/sprites/:id/sessions` | List exec sessions |
| `POST` | `/api/sprites/:name/tasks` | Create a task |

### Intents

| Method | Path | Description |
|--------|------|-------------|
| `GET` | `/api/intents` | List intents |
| `GET` | `/api/intents/:id` | Intent detail |
| `POST` | `/api/intents` | Create intent |
| `POST` | `/api/intents/:id/approve` | Approve intent |
| `POST` | `/api/intents/:id/reject` | Reject intent |
| `POST` | `/api/intents/:id/cancel` | Cancel intent |

### Runs

| Method | Path | Description |
|--------|------|-------------|
| `GET` | `/api/runs` | List runs |
| `GET` | `/api/runs/:id` | Run detail |
| `POST` | `/api/runs/:id/answer` | Answer blocked run |

### Health

| Method | Path | Description |
|--------|------|-------------|
| `GET` | `/health` | Health check (unauthenticated) |
